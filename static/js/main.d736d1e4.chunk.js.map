{"version":3,"sources":["img/t10031.png","panels/Transport.js","panels/Map.js","panels/Settings.js","App.js","index.js"],"names":["module","exports","routes","id","name","osName","platform","IS_PLATFORM_ANDROID","ANDROID","IS_PLATFORM_IOS","IOS","Transport","props","state","activePanel","activeModal","modalHistory","search","modalBack","setActiveModal","length","onChange","bind","this","indexOf","splice","push","setState","modal","className","settlingHeight","onClose","header","left","onClick","right","src","t10031","title","value","thematics","map","thematic","key","toLowerCase","filter","React","Component","Map","noShadow","size","level","go","data-to","Settings","App","onStoryChange","e","activeStory","currentTarget","dataset","story","activeView","to","console","log","getUrlVars","popout","snackbar","urlVars","urlObj","objToQueryString","user","schedule","translations","need_accept_notifications","accept_notifications","dict","arrayVar","window","location","substr","split","i","valueAndKey","obj","keyValuePairs","Object","keys","encodeURIComponent","values","join","fetch","then","res","json","data","connect","subscribe","event","detail","type","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","send","app_id","scope","group_id","tabbar","selected","data-story","text","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d736d1e4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/t10031.bd5a540f.png\";","import React from 'react';\nimport { View, Panel, PanelHeader, ModalRoot,ModalPage, ModalPageHeader, Group, Gallery,\n\tHeaderButton, IOS, ANDROID, platform, InfoRow, Button, Cell, Search, List} from '@vkontakte/vkui';\n\nimport '../App.css';\nimport t10031 from '../img/t10031.png';\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\n\nconst routes = [\n\t{id: 1000, name: \"Трамвай А\"},\n\t{id: 1003, name: \"Трамвай 3\"},\n\t{id: 1006, name: \"Трамвай 6\"},\n\t{id: 1007, name: \"Трамвай 7\"},\n\t{id: 1009, name: \"Трамвай 9\"},\n\t{id: 1010, name: \"Трамвай 10\"},\n\t{id: 1016, name: \"Трамвай 16\"},\n\t{id: 1018, name: \"Трамвай 18\"},\n\t{id: 1019, name: \"Трамвай 19\"},\n\t{id: 1020, name: \"Трамвай 20\"},\n\t{id: 1022, name: \"Трамвай 22\"},\n\t{id: 1023, name: \"Трамвай 23\"},\n\t{id: 1024, name: \"Трамвай 24\"},\n\t{id: 1025, name: \"Трамвай 25\"},\n\t{id: 1027, name: \"Трамвай 27\"},\n\t{id: 1029, name: \"Трамвай 29\"},\n\t{id: 1030, name: \"Трамвай 30\"},\n\t{id: 1036, name: \"Трамвай 36\"},\n\t{id: 1038, name: \"Трамвай 38\"},\n\t{id: 1039, name: \"Трамвай 39\"},\n\t{id: 1040, name: \"Трамвай 40\"},\n\t{id: 1041, name: \"Трамвай 41\"},\n\t{id: 1043, name: \"Трамвай 43\"},\n\t{id: 1045, name: \"Трамвай 45\"},\n\t{id: 1047, name: \"Трамвай 47\"},\n\t{id: 1048, name: \"Трамвай 48\"},\n\t{id: 1049, name: \"Трамвай 49\"},\n\t{id: 1051, name: \"Трамвай 51\"},\n\t{id: 1052, name: \"Трамвай 52\"},\n\t{id: 1055, name: \"Трамвай 55\"},\n\t{id: 1067, name: \"Трамвай 57\"},\n\t{id: 1068, name: \"Трамвай 58\"},\n\t{id: 1060, name: \"Трамвай 60\"},\n\t{id: 1061, name: \"Трамвай 61\"},\n\t{id: 1062, name: \"Трамвай 62\"},\n\t{id: 1100, name: \"Трамвай 100\"},\n];\nconst osName=platform();\nconst IS_PLATFORM_ANDROID = (osName === ANDROID);\nconst IS_PLATFORM_IOS = (osName === IOS);\n\n\n\n\n\nclass Transport extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tactivePanel:'default',\n\t\t\tactiveModal: null,\n\t\t\tmodalHistory: [],\n\t\t\tsearch: ''\n\t\t};\n\t\tthis.modalBack = () => {\n\t\t\tthis.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\n\t\t};\n\t\tthis.onChange = this.onChange.bind(this);\n\t}\n\n\n\tsetActiveModal(activeModal) {\n\t\tactiveModal = activeModal || null;\n\t\tlet modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\n\n\t\tif (activeModal === null) {\n\t\t\tmodalHistory = [];\n\t\t} else if (modalHistory.indexOf(activeModal) !== -1) {\n\t\t\tmodalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\n\t\t} else {\n\t\t\tmodalHistory.push(activeModal);\n\t\t}\n\n\t\tthis.setState({\n\t\t\tactiveModal,\n\t\t\tmodalHistory\n\t\t});\n\t};\n\tonChange (search) { this.setState({ search }); }\n\n\tget thematics () {\n\t\tconst search = this.state.search.toLowerCase();\n\t\treturn routes.filter(({name}) => name.toLowerCase().indexOf(search) > -1);\n\t}\n\n\trender()\n\t{\n\t\tconst modal=(\n\t\t\t<ModalRoot activeModal={this.state.activeModal} >\n\t\t\t\t<ModalPage\n\t\t\t\t\tclassName='modal-page'\n\t\t\t\t\tid={'t1003'}\n\t\t\t\t\tsettlingHeight='30' //ono rabotaet ili net? cha za fignya?\n\t\t\t\t\tonClose={this.modalBack}\n\t\t\t\t\theader={\n\t\t\t\t\t\t<ModalPageHeader\n\t\t\t\t\t\t\tleft={IS_PLATFORM_ANDROID && <HeaderButton onClick={this.modalBack}><Icon24Cancel /></HeaderButton>}\n\t\t\t\t\t\t\tright={<HeaderButton onClick={this.modalBack}>{IS_PLATFORM_IOS ? 'Готово' : <Icon24Done />}</HeaderButton>}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tТрамвай 3\n\t\t\t\t\t\t</ModalPageHeader>\n\t\t\t\t\t}\n\t\t\t\t>\n\n                    <img src={t10031} className='routePhoto'/>\n\t\t\t\t\t<div className='route-info'>\n\t\t\t\t\t\t<Group title='Маршрут'>\n\t\t\t\t\t\t\t<List >\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<InfoRow title='Конечные остановки'>\n\t\t\t\t\t\t\t\t\t\tПлощадь Репина - площадь Ленина\n\t\t\t\t\t\t\t\t\t</InfoRow>\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<InfoRow title='Станции метро по пути следования'>\n\t\t\t\t\t\t\t\t\t\tСенная площадь<br/>\n\t\t\t\t\t\t\t\t\t\tГостиный двор<br/>\n\t\t\t\t\t\t\t\t\t\tПлощадь Ленина\n\t\t\t\t\t\t\t\t\t</InfoRow>\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t<Group title='Другая информация'>\n\t\t\t\t\t\t\t<list>\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<InfoRow title='Стоиимость проезда'>\n\t\t\t\t\t\t\t\t\t\t40 рублей\n\t\t\t\t\t\t\t\t\t</InfoRow>\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<InfoRow title='Обслуживающие парки'>\n\t\t\t\t\t\t\t\t\t\tТрамвайный парк #3, Трамвайный парк #7\n\t\t\t\t\t\t\t\t\t</InfoRow>\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<InfoRow title='Подвижной состав'>\n\t\t\t\t\t\t\t\t\t\tЛМ-68М2, ЛМ-68М3, ЛМ-99АВН, 71-301, 71-623, 71-623-02, 71-631, 71-631-02\n\t\t\t\t\t\t\t\t\t</InfoRow>\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t</list>\n\t\t\t\t\t\t</Group>\n\t\t\t\t\t</div>\n\t\t\t\t</ModalPage>\n\t\t\t</ModalRoot>\n\t\t);\n\n\n\t\t\t\t\t\t\t\t\t\t\t//RETURN!!!!!!!!!!!!!!\n\t\t\t\t\t\t\t\t\t\t\t//RETURN!!!!!!!!!!!!!!\n\t\t\t\t\t\t\t\t\t\t\t//RETURN!!!!!!!!!!!!!!\n\t\t\t\t\t\t\t\t\t\t\t//RETURN!!!!!!!!!!!!!!\n\t\t\t\t\t\t\t\t\t\t\t//RETURN!!!!!!!!!!!!!!\n\t\treturn (\n\t\t\t<View id={this.props.id} activePanel={this.state.activePanel} modal={modal}>\n\t\t\t\t<Panel id='default'>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<PanelHeader>\n\t\t\t\t\t\t\tМаршруты\n\t\t\t\t\t\t</PanelHeader>\n\t\t\t\t\t\t<Search value={this.state.search} onChange={this.onChange}/>\n\t\t\t\t\t\t{this.thematics.length > 0 &&\n\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t{this.thematics.map(thematic => <Cell key={thematic.id} onClick={() => this.setActiveModal('t'+thematic.id)} >{thematic.name}</Cell>)}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</Panel>\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default Transport;\n","import React from 'react';\nimport { View, Panel, PanelHeader, Button } from '@vkontakte/vkui';\n\nimport '../App.css';\n\nconst Map = props => <View id={props.id} activePanel='default'>\n\t<Panel id='default'>\n\t\t<PanelHeader noShadow={true}>\n\t\t\tКарта\n\t\t</PanelHeader>\n\t\t<Button\n\t\t\tsize='xl'\n\t\t\tlevel='secondary'\n\t\t\tonClick={props.go}\n\t\t\tdata-to='eyes'\n\t\t>\n\t\t\t60 секунд спокойствия\n\t\t</Button>\n\t</Panel>\n</View>;\n\nexport default Map;\n\n","import React from 'react';\nimport {platform, IOS, View, Avatar} from '@vkontakte/vkui';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport '../App.css';\n\nconst osName = platform();\n\nconst Settings = props => (\n    <View id={ props.id } activePanel='default'>\n        <Panel id='default'>\n            <PanelHeader >\n                Настройки\n            </PanelHeader>\n            <div className='settings_user'>\n                <Avatar\n                    size={ 80 }\n                    className='settings_user_avatar'\n                />\n                <p className='settings_user_name'>Ivan Ivanovich</p>\n            </div>\n        </Panel>\n    </View>\n);\n\n\n\nexport default Settings;\n","import React, { useState, useEffect } from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './App.css';\n\nimport { Root, ScreenSpinner, Epic, Tabbar, TabbarItem, View, Snackbar, Avatar } from '@vkontakte/vkui';\n\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\nimport Icon28Newsfeed from '@vkontakte/icons/dist/28/newsfeed';\nimport Icon28FavoriteOutline from '@vkontakte/icons/dist/28/favorite_outline';\n\nimport Transport from './panels/Transport';\nimport Map from './panels/Map';\nimport Settings from './panels/Settings';\n\n\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconsole.log(this.getUrlVars());\n\t\tthis.state = {\n\t\t\tactiveView: 'default',\n\t\t\tactiveStory: 'transport',  //kogda sdelaesh transport - izmeni // SDELAL!\n\t\t\tpopout: <ScreenSpinner size='large' />,\n\t\t\tsnackbar: null,\n\t\t\turlVars: this.getUrlVars(),\n\t\t\turlObj: this.objToQueryString(this.getUrlVars()),\n\t\t\tuser: null,\n\t\t\tschedule: [],\n\t\t\ttranslations: {\n\t\t\t\tmap: 'Карта',\n\t\t\t\tneed_accept_notifications: 'Надо разрешить уведомления',\n\t\t\t\taccept_notifications: 'Розрешить',\n\n\t\t\t}\n\t\t};\n\t}\n\n\tgetUrlVars() {\n\t\tlet urlVar = window.location.search;\n\t\tlet dict = {};\n\t\tlet arrayVar = (urlVar.substr(1)).split('&');\n\t\tif (arrayVar[0] === '') return false;\n\t\tfor (let i = 0; i < arrayVar.length; i++) {\n\t\t\tlet valueAndKey = arrayVar[i].split('=');\n\t\t\tdict[valueAndKey[0]] = valueAndKey[1];\n\t\t}\n\t\treturn dict;\n\t}\n\n\tobjToQueryString(obj) {\n\t\tconst keyValuePairs = [];\n\t\tfor (let i = 0; i < Object.keys(obj).length; i += 1) {\n\t\t\tkeyValuePairs.push(`${encodeURIComponent(Object.keys(obj)[i])}=${encodeURIComponent(Object.values(obj)[i])}`);\n\t\t}\n\t\treturn keyValuePairs.join('&');\n\t}\n\n\tcomponentDidMount() {\n\t\tfetch('https://demo135.bravo.vkhackathon.com/api/translations?vk_language=' + (this.state.urlVars['vk_language'] || 'ru'))\n\t\t\t.then(res => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tthis.setState({ translations: data });\n\t\t\t});\n\n\t\tconsole.log(this.state.urlVars);\n\t\tconnect.subscribe((event) => {\n\t\t\tswitch (event.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tfetch(`https://demo135.bravo.vkhackathon.com/api/schedule?${this.state.urlObj}`)\n\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tschedule: data,\n\t\t\t\t\t\t\t\tuser: event.detail.data\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\tcase 'VKWebAppUpdateConfig':\n\t\t\t\t\tlet schemeAttribute = document.createAttribute('scheme');\n\t\t\t\t\tschemeAttribute.value = event.detail.data.scheme ? event.detail.data.scheme : 'client_light';\n\t\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tconsole.log('new message', event.detail.type, event.detail.data);\n\n\t\t});\n\n\t\tconnect.send('VKWebAppGetAuthToken', {\n\t\t\tapp_id: 7150429,\n\t\t\tscope: 'stories'\n\t\t});\n\t\t// connect.send('VKWebAppAllowNotifications', {});\n\t\tconnect.send('VKWebAppAllowMessagesFromGroup', {\n\t\t\tgroup_id: 186987863,\n\t\t\tkey: 'jopa'\n\t\t});\n\n\t\twindow.connect = this.connect;\n\n\t\tthis.setState({ popout: null });\n\t}\n\n\tonStoryChange = (e) => {\n\t\tthis.setState({ activeStory: e.currentTarget.dataset.story });\n\t};\n\n\tgo = (e) => {\n\t\tthis.setState({ activeView: e.currentTarget.dataset.to })\n\t};\n\n\n\trender() {\n\t\treturn (\n\t\t\t<Root activeView={this.state.activeView}>\n\t\t\t\t<Epic\n\t\t\t\t\tid='default'\n\t\t\t\t\tactiveStory={this.state.activeStory}\n\t\t\t\t\ttabbar={\n\t\t\t\t\t\t<Tabbar>\n\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\tonClick={ this.onStoryChange }\n\t\t\t\t\t\t\t\tselected={ this.state.activeStory === 'transport' }\n\t\t\t\t\t\t\t\tdata-story='transport'\n\t\t\t\t\t\t\t\ttext='Маршруты'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon28Newsfeed />\n\t\t\t\t\t\t\t</TabbarItem>\n\n\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\tonClick={ this.onStoryChange }\n\t\t\t\t\t\t\t\tselected={ this.state.activeStory === 'map' }\n\t\t\t\t\t\t\t\tdata-story='map'\n\t\t\t\t\t\t\t\ttext= {this.state.translations.map}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon28FavoriteOutline />\n\t\t\t\t\t\t\t</TabbarItem>\n\n\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\tonClick={ this.onStoryChange }\n\t\t\t\t\t\t\t\tselected={ this.state.activeStory === 'settings' }\n\t\t\t\t\t\t\t\tdata-story='settings'\n\t\t\t\t\t\t\t\ttext='Настройки'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon28SettingsOutline />\n\t\t\t\t\t\t\t</TabbarItem>\n\t\t\t\t\t\t</Tabbar>\n\t\t\t\t\t}>\n\t\t\t\t\t<Transport id='transport' go={ this.go } />\n\t\t\t\t\t<Map id='map' go={ this.go } />\n\t\t\t\t\t<Settings id='settings' user={ this.state.user } schedule={ this.state.schedule } go={ this.go } />\n\t\t\t\t</Epic>\n\n\t\t\t</Root>\n\t\t);\n\t}\n}\n\nexport default App;\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}